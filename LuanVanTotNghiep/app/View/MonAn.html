
<!--<script src="../../Assets/admin/tinymce/jquery.tinymce.min.js"></script>
<script src="../../Assets/admin/tinymce/tinymce.min.js"></script>
<script> 
    tinymce.init({
        selector: '#mota',
        //statusbar: false,
        //setup: function (editor) {
        //    editor.on('change', function () {
        //        tinymce.triggerSave();
        //    });
        //}
    }); 
    tinymce.init({ selector: '#cachlam' });
</script>-->
<!-- Content Header (Page header) -->

<section class="content-header">
    <h1>
        Danh mục các món ăn
    </h1>
    <ol class="breadcrumb">
        <li><a href="#"><i class="fa fa-dashboard"></i> Trang chủ</a></li>
        <li><a href="#">Món ăn</a></li>
        <li class="active">Danh sách món ăn</li>
    </ol>
</section>
<!-- Main content -->
<section class="content">
    <!-- Default box -->
    <div class="box">
        <div class="box-header with-border">
            <h3 class="box-title">Danh sách món ăn</h3>
            <div class="box-tools pull-right">
                <button class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip" title="thu phóng"><i class="fa fa-minus"></i></button>
                <button class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="đóng"><i class="fa fa-times"></i></button>
            </div>
        </div>
        <div class="box-body">
            <div class="row">
                <div class="col-md-12">
                    <div class="alert-danger" style="width: 350px ;line-height: 50px; position:center;transition-delay:initial">
                        <strong class="error" style="text-align:left">{{error}} </strong>
                    </div>
                    <div class="row form-group" ng-show="ShowDataTable" ng-disabled="addmonan.$valid">
                        <div class="col-lg-12">
                            <div class="col-md-4">
                                <button type="submit" class="btn btn-soundcloud">Tìm kiếm</button>
                                <input type="button" value="Thêm mới" href="javascript:void(0);" ng-click="ShowHide()" class="btn btn-success" />
                            </div>
                        </div>
                    </div>
                    <br />

                    <form name="addmonan" ng-show="ShowAddForm" class="form-horizontal" style="width: auto;" method="post">
                        <div class="row">
                            <div class="form-group col-xs-6">
                                <label for="mamon" class="col-md-2 control-label">Mã món ăn</label>
                                <div class="col-md-10 space">
                                    <input type="text" class="form-control" id="mamon" placeholder="Tạo tự dộng và không được thay đổi" ng-model="newmonan.MAMON" disabled />
                                </div>
                            </div>
                            <div class="form-group col-xs-6">
                                <label for="madvtinh" class="col-md-2 control-label">Đơn vị tính</label>
                                <div class="col-md-10 space">
                                    <select  class="form-control" name="madvtinh" ng-init="newmonan.MADVTINH=dvtinhs[0].ID" ng-model="newmonan.MADVTINH" ng-options="dvtinh.MADVTINH as dvtinh.TENDVTINH for dvtinh in dvtinhs track by dvtinh.MADVTINH"></select>
                                </div>
                            </div>

                            <div class="form-group col-xs-6">
                                <label for="mahinhanh" class="col-md-2 control-label">Hình ảnh</label>
                                <div class="col-md-10 space">
                                    <select class="form-control" name="mahinhanh" ng-init="newmonan.MAHINHANH=hinhanhs[0].ID" ng-model="newmonan.MAHINHANH" ng-options="hinhanh.MAHINHANH as hinhanh.DUONGDAN1 for hinhanh in hinhanhs track by hinhanh.MAHINHANH"></select>

                                </div>
                            </div>
                            <div class="form-group col-xs-6">
                                <label for="maloai" class="col-md-2 control-label">Loại món ăn</label>
                                <div class="col-md-10 space">
                                    <select  class="form-control" name="maloai" ng-init="newmonan.MALOAI=loaimonans[0].ID" ng-model="newmonan.MALOAI" ng-options="loaimonan.MALOAI as loaimonan.TENLOAI for loaimonan in loaimonans track by loaimonan.MALOAI"></select>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-xs-6">
                                <label for="tengoi" class="col-md-2 control-label">Tên gọi</label>
                                <div class="col-md-10 space">
                                    <input type="text" class="form-control" id="tengoi" placeholder="" ng-model="newmonan.TENGOI" required />
                                </div>
                            </div>
                            <div class="form-group col-xs-6">
                                <label for="dongia" class="col-md-2 control-label">Đơn giá</label>
                                <div class="col-md-10 space">
                                    <input type="number" class="form-control" name="dongia" placeholder="" ng-model="newmonan.DONGIA" required />
                                </div>
                            </div>
                            <div class="form-group col-xs-6">
                                <label for="mota" class="col-md-2 control-label">Mô tả</label>
                                <div class="col-md-10 space">
                                    <textarea type="text" class="form-control" id="mota" name="mota" placeholder="" ng-model="newmonan.MOTA"> </textarea>
                                </div>
                            </div>
                            <div class="form-group col-xs-6">
                                <label for="cachlam" class="col-md-2 control-label">Cách làm</label>
                                <div class="col-md-10 space">
                                    <textarea type="text" class="form-control" id="cachlam" name="cachlam" placeholder="" ng-model="newmonan.CACHLAM"> </textarea>
                                </div>
                            </div>
                            <div class="form-group col-xs-6">
                                <label for="ngaytao" class="col-md-2 control-label">Ngày tạo</label>
                                <div class="col-md-10 space">
                                    <input data-input type="date" class="form-control" name="ngaytao" ng-model="newmonan.NGAYTAOMOI" />
                                </div>
                            </div>
                        </div>

                        <div class="form-group col-xs-6 space">
                            <div class="col-sm-offset-2 col-sm-10">
                                <input type="submit" value="Thêm mới" ng-click="add()" ng-show="addShow" ng-disabled="!addmonan.$valid" class="btn btn-success" />
                                <input type="button" value="Hủy bỏ" ng-click="cancel()" class="btn btn-default" />
                            </div>
                        </div>
                    </form>
                    <form name="addmonan" ng-show="ShowUpdateForm" class="form-horizontal" style="width: auto;" method="post">
                        <div class="row">
                            <div class="form-group col-xs-6">
                                <label for="mamon" class="col-md-2 control-label">Mã món ăn</label>
                                <div class="col-md-10 space">
                                    <input type="text" class="form-control" id="mamon"  ng-model="newmonan.MAMON" disabled />
                                </div>
                            </div>
                            <div class="form-group col-xs-6">
                                <label for="madvtinh" class="col-md-2 control-label">Đơn vị tính</label>
                                <div class="col-md-10 space">
                                    <input ng-show="updateShow" ng-disabled="addmonan.$valid" type="text" class="form-control" id="madvtinh" placeholder="" ng-model="newmonan.MADVTINH" />
                                </div>
                            </div>

                            <div class="form-group col-xs-6">
                                <label for="mahinhanh" class="col-md-2 control-label">Hình ảnh</label>
                                <div class="col-md-10 space">
                                    <input ng-show="updateShow" ng-disabled="addmonan.$valid" type="text" class="form-control" id="mahinhanh" placeholder="" ng-model="newmonan.MAHINHANH" />
                                </div>
                            </div>
                            <div class="form-group col-xs-6">
                                <label for="maloai" class="col-md-2 control-label">Loại món ăn</label>
                                <div class="col-md-10 space">
                                    <input ng-show="updateShow" ng-disabled="addmonan.$valid" type="text" class="form-control" id="maloai" placeholder="" ng-model="newmonan.MALOAI" />
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="form-group col-xs-6">
                                <label for="tengoi" class="col-md-2 control-label">Tên gọi</label>
                                <div class="col-md-10 space">
                                    <input type="text" class="form-control" id="tengoi" placeholder="" ng-model="newmonan.TENGOI" required />
                                </div>
                            </div>
                            <div class="form-group col-xs-6">
                                <label for="dongia" class="col-md-2 control-label">Đơn giá</label>
                                <div class="col-md-10 space">
                                    <input type="number" class="form-control" name="dongia" placeholder="" ng-model="newmonan.DONGIA" required />
                                </div>
                            </div>
                            <div class="form-group col-xs-6">
                                <label for="mota" class="col-md-2 control-label">Mô tả</label>
                                <div class="col-md-10 space">
                                    <textarea type="text" class="form-control" id="mota" name="mota" placeholder="" ng-model="newmonan.MOTA"> </textarea>
                                </div>
                            </div>
                            <div class="form-group col-xs-6">
                                <label for="cachlam" class="col-md-2 control-label">Cách làm</label>
                                <div class="col-md-10 space">
                                    <textarea type="text" class="form-control" id="cachlam" name="cachlam" placeholder="" ng-model="newmonan.CACHLAM"> </textarea>
                                </div>
                            </div>
                            <div class="form-group col-xs-6">
                                <label for="ngaytao" class="col-md-2 control-label">Ngày tạo</label>
                                <div class="col-md-10 space">
                                    <input data-input type="date" class="form-control" name="ngaytao" ng-model="newmonan.NGAYTAOMOI" />
                                </div>
                            </div>
                        </div>

                        <div class="form-group col-xs-6 space">
                            <div class="col-sm-offset-2 col-sm-10">
                                <input type="submit" value="Chỉnh sửa" ng-click="update()" ng-show="updateShow" ng-disabled="!addmonan.$valid" class="btn btn-primary" />
                                <input type="button" value="Hủy bỏ" ng-click="cancel()" class="btn btn-default" />
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <div class="row" ng-show="ShowDataTable" >
                <div class="col-md-12">
                    <div class="table-responsive">
                        <table  class="table table-striped table-condensed table-hover" style="width: auto; margin-left: 5px;">
                            <thead style=" background-color: lawngreen">
                                <tr>
                                    <th>Mã món</th>
                                    <th>Hình ảnh</th>
                                    <th>DV tính</th>
                                    <th>Loại</th>
                                    <th>Tên món</th>
                                    <th>Đơn giá</th>
                                    <th style="width:350px">Mô tả</th>
                                    <th>Cách làm</th>
                                    <th>Ngày tạo</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>

                            <tr ng-repeat="monan in monans.slice(((currentPage-1)*itemsPerPage), ((currentPage)*itemsPerPage))">
                                <td>
                                    <p>{{ monan.MAMON }}</p>
                                </td>
                                <td>
                                    <p><img src="{{ monan.DUONGDANHINHANH }}" style="height:50px ; width:50px" /></p>
                                </td>
                                <td>
                                    <p>{{ monan.TENDVTINH }}</p>
                                </td>

                                <td>
                                    <p>{{ monan.TENLOAI }}</p>
                                </td>
                                <td>
                                    <p>{{ monan.TENGOI }}</p>
                                </td>
                                <td>
                                    <p>{{ monan.DONGIA }}</p>
                                </td>
                                <td style="width:350px">
                                    <p>{{ monan.MOTA }}</p>
                                </td>
                                <td>
                                    <p>{{ monan.CACHLAM }}</p>
                                </td>
                                <td>
                                    <p>{{ monan.NGAYTAOMOI | date : "dd/MM/y"}}</p>
                                </td>
                                <td>
                                    <p><a class="btn btn-primary btn-xs" ng-click="edit()" href="javascript:void(0);"><span class="glyphicon glyphicon-pencil"></span></a> | <a class="btn btn-danger btn-xs" ng-click="delete()" href="javascript:void(0);"><span class="glyphicon glyphicon-trash"></span></a></p>
                                </td>
                            </tr>


                        </table>
                        View
                        <select ng-model="viewby" ng-change="setItemsPerPage(viewby)">
                            <option>5</option>
                            <option>10</option>
                            <option>15</option>
                            <option>20</option>
                        </select>
                        records at a time.
                    </div>
                    <pagination total-items="totalItems"
                                ng-model="currentPage"
                                max-size="maxSize"
                                class="pagination-sm"
                                boundary-links="true"
                                rotate="false"
                                num-pages="numPages"
                                items-per-page="itemsPerPage">
                    </pagination>
                    <br />
                    <span style="font-size: 100%" class="label label-primary">Page: {{currentPage}} / {{numPages}}</span>

                    <hr />
                </div>
            </div>
        </div><!-- /.box-body -->
        <script id="template/pagination/pagination.html" type="text/ng-template">
            <ul class="pagination">
                <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)" title="First Page"> <span class="glyphicon glyphicon-fast-backward"></span></a></li>
                <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)" title="Previous Page"><span class="glyphicon glyphicon-step-backward"></span></a></li>
                <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>
                <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)" title="Next Page"><span class="glyphicon glyphicon-step-forward"></span></a></li>
                <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)" title="Last Page"><span class="glyphicon glyphicon-fast-forward"></span> </a></li>
            </ul>
        </script>
    </div><!-- /.box -->
</section>
